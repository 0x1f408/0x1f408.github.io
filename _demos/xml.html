---
layout: post
permalink: /demo/xml/
title: XML Demo
subtitle: Introduction to eXtensible Markup Language
---
<script>
    // NEW
    let parseXml = function(xmlStr) {
            return ( new window.DOMParser() ).parseFromString(xmlStr, "text/xml");
        };

    let xml = parseXml("<bookstore></bookstore>");
    document.body.innerHTML = "Root element: " + xml.documentElement.nodeName;

    let xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function(){
        if ( this.readyState == 4 && this.status == 200){
          myFunction(this);
      }
    };
    xhttp.open("GET","/assets/tmp/bookstore.xml",true);
    xhttp.send();

    let myFunction = function(xml) {
        let xmlDoc = xml.responseXML;
        let x = xmlDoc.getElementsByTagName("books")[0]; // this works
        let xlen = x.childNodes.length;
        let text = "";
        for (let i = 0; i < xlen; i++){
            console.log(i+"\t: "+x+"\t: " + x.childNodes[i] + ", " +x.childNodes[i].nodeValue); // this doesn't
            //text += x.childNodes[i].nodeValue + "<br/>";

        }
        console.log(text);
        window.onLoad = function() {

        document.getElementById('demo').innerHTML=text;
        //console.log(document.getElementsByTagName('div'));
        };
    };

</script>

<p id="demo">

</p>

<pre>
Typical DOM properties:
x.nodeName
x.nodeValue
x.parentNode
x.childNodes
x.attributes
</pre>